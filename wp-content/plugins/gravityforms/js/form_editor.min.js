function MakeNoFieldsDroppable(){jQuery("#no-fields").droppable({over:function(e,t){jQuery("#gform_fields").height(jQuery(this).height()),jQuery(this).hide()},out:function(e,t){jQuery(this).show()}})}function CloseStatus(){jQuery(".updated_base, .error_base").slideUp()}function InitializeFieldSettings(){jQuery("#field_max_file_size").on("input propertychange",function(){var e=jQuery(this),t=parseInt(e.val());SetFieldProperty("maxFileSize",t||"")}).on("change",function(){var e=GetSelectedField(),t=e.maxFileSize?e.maxFileSize:"",i=""===t?"":t+"MB";this.value=i}),jQuery(document).on("input propertychange",".field_default_value",function(){SetFieldDefaultValue(this.value)}),jQuery(document).on("input propertychange",".field_placeholder, .field_placeholder_textarea",function(){SetFieldPlaceholder(this.value)}),jQuery("#field_choices").on("change",".field-choice-price",function(){var e=GetSelectedField(),t=jQuery(this).parent("li").index(),i=e.choices[t].price;this.value=i}),jQuery(".field_input_choices").on("input propertychange","input",function(){var e=jQuery(this).closest("li"),t=e.data("index");SetInputChoice(e.data("input_id"),t,e.find(".field-choice-value").val(),e.find(".field-choice-text").val())}).on("click keypress","input:radio, input:checkbox",function(){var e=jQuery(this).closest("li"),t=e.data("index");SetInputChoice(e.data("input_id"),t,e.find(".field-choice-value").val(),e.find(".field-choice-text").val())}).on("click keypress",".field-input-insert-choice",function(){var e=jQuery(this).closest("li"),t=e.closest("ul"),i=e.data("index");InsertInputChoice(t,e.data("input_id"),i+1)}).on("click keypress",".field-input-delete-choice",function(){var e=jQuery(this).closest("li"),t=e.closest("ul"),i=e.data("index");DeleteInputChoice(t,e.data("input_id"),i)}),jQuery(".field_input_choice_values_enabled").on("click keypress",function(){var e=jQuery(this).parent().siblings(".gfield_settings_input_choices_container");ToggleInputChoiceValue(e,this.checked),SetInputChoices(e.find("ul"))}),jQuery(".input_placeholders_setting").on("input propertychange",".input_placeholder",function(){var e=jQuery(this).closest(".input_placeholder_row").data("input_id");SetInputPlaceholder(this.value,e)}).on("input propertychange","#field_single_placeholder",function(){SetFieldPlaceholder(this.value)}),jQuery("#field_rich_text_editor").on("click keypress",function(){var e=GetSelectedField();if(this.checked){var t=!0;HasConditionalLogicDependency(e.id,e.value)&&(confirm(gf_vars.conditionalLogicRichTextEditorWarning)||(jQuery("#field_rich_text_editor").prop("checked",!1),t=!1)),t&&(jQuery("#field_placeholder, #field_placeholder_textarea").prop("disabled",!0),jQuery("span#placeholder_warning").css("display","block"))}else jQuery("#field_placeholder, #field_placeholder_textarea").prop("disabled",!1),jQuery("span#placeholder_warning").css("display","none")}),jQuery(".prepopulate_field_setting").on("input propertychange",".field_input_name",function(){var e=jQuery(this).closest(".field_input_name_row").data("input_id");SetInputName(this.value,e)}).on("input propertychange","#field_input_name",function(){SetInputName(this.value)}),jQuery(".custom_inputs_setting, .custom_inputs_sub_setting, .sub_labels_setting").on("click keypress",".input_active_icon",function(){var e=jQuery(this).closest(".field_custom_input_row").data("input_id");ToggleInputHidden(this,e)}).on("input propertychange",".field_custom_input_default_label",function(){var e=jQuery(this).closest(".field_custom_input_row").data("input_id");SetInputCustomLabel(this.value,e)}).on("input propertychange","#field_single_custom_label",function(){SetInputCustomLabel(this.value)}),jQuery(".default_input_values_setting").on("input propertychange",".default_input_value",function(){var e=jQuery(this).closest(".default_input_value_row").data("input_id");SetInputDefaultValue(this.value,e)}).on("input","#field_single_default_value",function(){SetFieldDefaultValue(this.value)}),jQuery(".choices_setting, .columns_setting").on("input propertychange",".field-choice-input",function(e){var t=jQuery(this),i=t.closest("li.field-choice-row");SetFieldChoice(i.data("input_type"),i.data("index")),(t.hasClass("field-choice-text")||t.hasClass("field-choice-value"))&&(CheckChoiceConditionalLogicDependency(this),e.stopPropagation())}),jQuery("#field_enable_copy_values_option").on("click keypress",function(){SetCopyValuesOptionProperties(this.checked),ToggleCopyValuesOption(!1),0==this.checked&&ToggleCopyValuesActivated(!1)}),jQuery("#field_copy_values_option_label").on("input propertychange",function(){SetCopyValuesOptionLabel(this.value)}),jQuery("#field_copy_values_option_field").on("change",function(){SetFieldProperty("copyValuesOptionField",jQuery(this).val())}),jQuery("#field_copy_values_option_default").on("change",function(){SetFieldProperty("copyValuesOptionDefault",1==this.checked?1:0),ToggleCopyValuesActivated(this.checked)}),jQuery("#field_label").on("input propertychange",function(){SetFieldLabel(this.value)}),jQuery("#field_description").on("blur",function(){GetSelectedField().description!=this.value&&(SetFieldDescription(this.value),RefreshSelectedFieldPreview())}),jQuery("#field_checkbox_label").on("input propertychange",function(){GetSelectedField().checkboxLabel!=this.value&&(SetFieldCheckboxLabel(this.value),RefreshSelectedFieldPreview())}),jQuery("#field_content").on("input propertychange",function(){SetFieldProperty("content",this.value)}),jQuery("#next_button_text_input, #next_button_image_url").on("input propertychange",function(){SetPageButton("next")}),jQuery("#previous_button_image_url, #previous_button_text_input").on("input propertychange",function(){SetPageButton("previous")}),jQuery("#field_custom_field_name_text").on("input propertychange",function(){SetFieldProperty("postCustomFieldName",this.value)}),jQuery("#field_customfield_content_template").on("input propertychange",function(){SetCustomFieldTemplate()}),jQuery("#gfield_calendar_icon_url").on("input propertychange",function(){SetFieldProperty("calendarIconUrl",this.value)}),jQuery("#field_max_files").on("input propertychange",function(){SetFieldProperty("maxFiles",this.value)}),jQuery("#field_maxrows").on("input propertychange",function(){SetFieldProperty("maxRows",this.value)}),jQuery("#field_mask_text").on("input propertychange",function(){SetFieldProperty("inputMaskValue",this.value)}),jQuery("#field_file_extension").on("input propertychange",function(){SetFieldProperty("allowedExtensions",this.value)}),jQuery("#field_maxlen").on("keypress",function(e){return ValidateKeyPress(e,GetMaxLengthPattern(),!1)}).on("change keyup",function(){SetMaxLength(this)}),jQuery("#field_range_min").on("input propertychange",function(){SetFieldProperty("rangeMin",this.value)}),jQuery("#field_range_max").on("input propertychange",function(){SetFieldProperty("rangeMax",this.value)}),jQuery("#field_calculation_formula").on("input propertychange",function(){SetFieldProperty("calculationFormula",this.value.trim())}),jQuery("#field_error_message").on("input propertychange",function(){SetFieldProperty("errorMessage",this.value)}),jQuery("#field_css_class").on("input propertychange",function(){SetFieldProperty("cssClass",this.value)}),jQuery("#field_admin_label").on("input propertychange",function(){SetFieldProperty("adminLabel",this.value)}),jQuery("#field_add_icon_url").on("input propertychange",function(){SetFieldProperty("addIconUrl",this.value)}),jQuery("#field_delete_icon_url").on("input propertychange",function(){SetFieldProperty("deleteIconUrl",this.value)})}function InitializeForm(e){0<e.fields.length&&jQuery("#no-fields").detach().appendTo("#no-fields-stash"),e.lastPageButton&&"image"===e.lastPageButton.type?jQuery("#last_page_button_image").prop("checked",!0):e.lastPageButton&&"image"===e.lastPageButton.type||jQuery("#last_page_button_text").prop("checked",!0),jQuery("#last_page_button_text_input").val(e.lastPageButton?e.lastPageButton.text:gf_vars.previousLabel),jQuery("#last_page_button_image_url").val(e.lastPageButton?e.lastPageButton.imageUrl:""),TogglePageButton("last_page",!0),e.postStatus&&jQuery("#field_post_status").val(e.postStatus),e.postAuthor&&jQuery("#field_post_author").val(e.postAuthor),void 0===e.useCurrentUserAsAuthor&&(e.useCurrentUserAsAuthor=!0),jQuery("#gfield_current_user_as_author").prop("checked",!!e.useCurrentUserAsAuthor),e.postCategory&&jQuery("#field_post_category").val(e.postCategory),e.postFormat&&jQuery("#field_post_format").val(e.postFormat),e.postContentTemplateEnabled?(jQuery("#gfield_post_content_enabled").prop("checked",!0),jQuery("#field_post_content_template").val(e.postContentTemplate)):(jQuery("#gfield_post_content_enabled").prop("checked",!1),jQuery("#field_post_content_template").val("")),TogglePostContentTemplate(!0),e.postTitleTemplateEnabled?(jQuery("#gfield_post_title_enabled").prop("checked",!0),jQuery("#field_post_title_template").val(e.postTitleTemplate)):(jQuery("#gfield_post_title_enabled").prop("checked",!1),jQuery("#field_post_title_template").val("")),TogglePostTitleTemplate(!0),jQuery("#gform_last_page_settings").click(function(){FieldClick(this)}),jQuery("#gform_pagination").click(function(){FieldClick(this)}),jQuery("#gform_fields").on("click",".gfield",function(){FieldClick(this)});var t=e.pagination&&e.pagination.type?e.pagination.type:"percentage",i="percentage"===t,l="none"===t;"steps"===t?jQuery("#pagination_type_steps").prop("checked",!0):i?jQuery("#pagination_type_percentage").prop("checked",!0):l&&jQuery("#pagination_type_none").prop("checked",!0),jQuery("#first_page_css_class").val(e.firstPageCssClass),jQuery("#field_settings, #last_page_settings, #pagination_settings").tabs({selected:0}),TogglePageBreakSettings(),InitPaginationOptions(!0),InitializeFields()}function LoadFieldSettings(){field=GetSelectedField();var e=GetInputType(field);jQuery("#field_label").val(field.label),"html"==field.type?(jQuery(".tooltip_form_field_label_html").show(),jQuery(".tooltip_form_field_label").hide()):(jQuery(".tooltip_form_field_label_html").hide(),jQuery(".tooltip_form_field_label").show()),jQuery("#field_admin_label").val(field.adminLabel),jQuery("#field_content").val(null==field.content?"":field.content),jQuery("#post_custom_field_type").val(field.inputType),jQuery("#post_tag_type").val(field.inputType),jQuery("#field_size").val(field.size),jQuery("#field_required").prop("checked",1==field.isRequired),jQuery("#field_margins").prop("checked",1==field.disableMargins),jQuery("#field_no_duplicates").prop("checked",1==field.noDuplicates),jQuery("#field_default_value").val(null==field.defaultValue?"":field.defaultValue),jQuery("#field_default_value_textarea").val(null==field.defaultValue?"":field.defaultValue),jQuery("#field_description").val(null==field.description?"":field.description),jQuery("#field_description").attr("placeholder",null==field.descriptionPlaceholder?"":field.descriptionPlaceholder),jQuery("#field_checkbox_label").val(null==field.checkboxLabel?"":field.checkboxLabel),jQuery("#field_css_class").val(null==field.cssClass?"":field.cssClass),jQuery("#field_range_min").val(null==field.rangeMin||!1===field.rangeMin?"":field.rangeMin),jQuery("#field_range_max").val(null==field.rangeMax||!1===field.rangeMax?"":field.rangeMax),jQuery("#field_name_format").val(field.nameFormat),jQuery("#field_force_ssl").prop("checked",!!field.forceSSL),jQuery("#credit_card_style").val(field.creditCardStyle?field.creditCardStyle:"style1"),field.useRichTextEditor?(jQuery("#field_placeholder, #field_placeholder_textarea").prop("disabled",!0),jQuery("span#placeholder_warning").css("display","block")):(jQuery("#field_placeholder, #field_placeholder_textarea").prop("disabled",!1),jQuery("span#placeholder_warning").css("display","none")),void 0===field.labelPlacement&&(field.labelPlacement=""),void 0===field.descriptionPlacement&&(field.descriptionPlacement=""),void 0===field.subLabelPlacement&&(field.subLabelPlacement=""),jQuery("#field_label_placement").val(field.labelPlacement),jQuery("#field_description_placement").val(field.descriptionPlacement),jQuery("#field_sub_label_placement").val(field.subLabelPlacement),"left_label"==field.labelPlacement||"right_label"==field.labelPlacement||""==field.labelPlacement&&"top_label"!=form.labelPlacement?jQuery("#field_description_placement_container").hide():jQuery("#field_description_placement_container").show(),SetFieldVisibility(field.visibility,!0),void 0===field.placeholder&&(field.placeholder=""),jQuery("#field_placeholder, #field_placeholder_textarea").val(field.placeholder),jQuery("#field_file_extension").val(null==field.allowedExtensions?"":field.allowedExtensions),jQuery("#field_multiple_files").prop("checked",!!field.multipleFiles),jQuery("#field_max_files").val(field.maxFiles?field.maxFiles:""),jQuery("#field_max_file_size").val(field.maxFileSize?field.maxFileSize+"MB":""),ToggleMultiFile(!0),jQuery("#field_phone_format").val(field.phoneFormat),jQuery("#field_error_message").val(field.errorMessage),jQuery("#field_select_all_choices").prop("checked",!!field.enableSelectAll),jQuery("#field_other_choice").prop("checked",!!field.enableOtherChoice),jQuery("#field_add_icon_url").val(field.addIconUrl?field.addIconUrl:""),jQuery("#field_delete_icon_url").val(field.deleteIconUrl?field.deleteIconUrl:""),jQuery("#gfield_enable_enhanced_ui").prop("checked",!!field.enableEnhancedUI),jQuery("#gfield_password_strength_enabled").prop("checked",1==field.passwordStrengthEnabled),jQuery("#gfield_password_visibility_enabled").prop("checked",1==field.passwordVisibilityEnabled),TogglePasswordVisibility(!0),jQuery("#gfield_min_strength").val(null==field.minPasswordStrength?"":field.minPasswordStrength),TogglePasswordStrength(!0),jQuery("#gfield_email_confirm_enabled").prop("checked",1==field.emailConfirmEnabled),field.numberFormat?jQuery("#field_number_format_blank").remove():0==jQuery("#field_number_format #field_number_format_blank").length&&jQuery("#field_number_format").prepend("<option id='field_number_format_blank' value=''>"+gf_vars.selectFormat+"</option>"),jQuery("#field_number_format").val(field.numberFormat?field.numberFormat:""),"product"==field.type&&"calculation"==field.inputType?(field.enableCalculation=!0,jQuery(".field_calculation_rounding").hide(),jQuery(".field_enable_calculation").hide()):(jQuery(".field_enable_calculation").show(),"number"==field.type&&"currency"==field.numberFormat?jQuery(".field_calculation_rounding").hide():jQuery(".field_calculation_rounding").show()),jQuery("#field_enable_calculation").prop("checked",!!field.enableCalculation),ToggleCalculationOptions(field.enableCalculation,field),jQuery("#field_calculation_formula").val(field.calculationFormula);var t=gformIsNumber(field.calculationRounding)?field.calculationRounding:"norounding";jQuery("#field_calculation_rounding").val(t),jQuery("#option_field_type").val(field.inputType);var i=jQuery("#product_field_type");if(i.val(field.inputType),has_entry(field.id)?i.prop("disabled",!0):i.prop("disabled",!1),jQuery("#donation_field_type").val(field.inputType),jQuery("#quantity_field_type").val(field.inputType),"hiddenproduct"==field.inputType||"singleproduct"==field.inputType||"singleshipping"==field.inputType||"calculation"==field.inputType){var l=null==field.basePrice?"":field.basePrice;jQuery("#field_base_price").val(null==field.basePrice?"":field.basePrice),SetBasePrice(l)}jQuery("#shipping_field_type").val(field.inputType),jQuery("#field_disable_quantity").prop("checked",1==field.disableQuantity),SetDisableQuantity(1==field.disableQuantity);var d=!!field.enablePasswordInput;jQuery("#field_password").prop("checked",d),jQuery("#field_maxlen").val(void 0===field.maxLength?"":field.maxLength),jQuery("#field_maxrows").val(void 0===field.maxRows?"":field.maxRows);var a=null==field.addressType?"international":field.addressType;jQuery("#field_address_type").val(a),"address"==field.type&&(field=UpgradeAddressField(field)),"email"!=field.type&&"email"!=field.inputType||(field=UpgradeEmailField(field)),"consent"===field.type&&(field=UpgradeConsentField(field));var r=null==field.defaultState?"":field.defaultState,n=null==field.defaultProvince?"":field.defaultProvince,o="canadian"==a&&""==r?n:r;jQuery("#field_address_default_state_"+a).val(o),jQuery("#field_address_default_country_"+a).val(null==field.defaultCountry?"":field.defaultCountry),SetAddressType(!0),jQuery("#gfield_display_title").prop("checked",1==field.displayTitle),jQuery("#gfield_display_caption").prop("checked",1==field.displayCaption),jQuery("#gfield_display_description").prop("checked",1==field.displayDescription);var s=CustomFieldExists(field.postCustomFieldName);jQuery("#field_custom_field_name_select")[0].selectedIndex=0,jQuery("#field_custom_field_name_text").val(""),s?jQuery("#field_custom_field_name_select").val(field.postCustomFieldName):jQuery("#field_custom_field_name_text").val(field.postCustomFieldName),s?jQuery("#field_custom_existing").prop("checked",!0):jQuery("#field_custom_new").prop("checked",!0),ToggleCustomField(!0),jQuery("#gfield_customfield_content_enabled").prop("checked",!!field.customFieldTemplateEnabled),jQuery("#field_customfield_content_template").val(field.customFieldTemplateEnabled?field.customFieldTemplate:""),ToggleCustomFieldTemplate(!0),field.displayAllCategories?jQuery("#gfield_category_all").prop("checked",!0):jQuery("#gfield_category_select").prop("checked",!0),ToggleCategory(!0),jQuery("#gfield_post_category_initial_item_enabled").prop("checked",!!field.categoryInitialItemEnabled),jQuery("#field_post_category_initial_item").val(field.categoryInitialItemEnabled?field.categoryInitialItem:""),TogglePostCategoryInitialItem(!0);var c=!!field.postFeaturedImage;jQuery("#gfield_featured_image").prop("checked",c),"boolean"!=typeof field.inputMaskIsCustom&&(field.inputMaskIsCustom=!IsStandardMask(field.inputMaskValue));var u=!field.inputMaskIsCustom;if(jQuery("#field_input_mask").prop("checked",!!field.inputMask),u?(jQuery("#field_mask_standard").prop("checked",!0),jQuery("#field_mask_select").val(field.inputMaskValue)):(jQuery("#field_mask_custom").prop("checked",!0),jQuery("#field_mask_text").val(field.inputMaskValue)),ToggleInputMask(!0),ToggleInputMaskOptions(!0),"creditcard"==e)for(y in field=UpgradeCreditCardField(field),(!field.creditCards||field.creditCards.length<=0)&&(field.creditCards=["amex","visa","discover","mastercard"]),field.creditCards)field.creditCards.hasOwnProperty(y)&&jQuery("#field_credit_card_"+field.creditCards[y]).prop("checked",!0);"date"==e&&(field=UpgradeDateField(field)),"time"==e&&(field=UpgradeTimeField(field)),CreateDefaultValuesUI(field),CreatePlaceholdersUI(field),CreateCustomizeInputsUI(field),CreateInputLabelsUI(field),field.dateType||"date"!=e||(field.dateType="datepicker"),jQuery("#field_date_input_type").val(field.dateType),jQuery("#gfield_calendar_icon_url").val(null==field.calendarIconUrl?"":field.calendarIconUrl),jQuery("#field_date_format").val("dmy"==field.dateFormat?"dmy":field.dateFormat),jQuery("#field_time_format").val("24"==field.timeFormat?"24":"12"),SetCalendarIconType(field.calendarIconType,!0),ToggleDateCalendar(!0),LoadDateInputs(),LoadTimeInputs(),field.allowsPrepopulate=!!field.allowsPrepopulate,field.useRichTextEditor=!!field.useRichTextEditor,jQuery("#field_prepopulate").prop("checked",!!field.allowsPrepopulate),jQuery("#field_rich_text_editor").prop("checked",!!field.useRichTextEditor),has_entry(field.id)?jQuery("#field_rich_text_editor").prop("disabled",!0):jQuery("#field_rich_text_editor").prop("disabled",!1),CreateInputNames(field),ToggleInputName(!0);var f=0<GetFirstRuleField();"page"==field.type?(LoadFieldConditionalLogic(f,"next_button"),LoadFieldConditionalLogic(f,"page")):LoadFieldConditionalLogic(f,"field"),jQuery("#field_enable_copy_values_option").prop("checked",1==field.enableCopyValuesOption),jQuery("#field_copy_values_option_default").prop("checked",1==field.copyValuesOptionDefault);var _=GetCopyValuesFieldsOptions(field.copyValuesOptionField,field);0<_.length?(jQuery("#field_enable_copy_values_option").prop("disabled",!1),jQuery("#field_copy_values_disabled").hide(),jQuery("#field_copy_values_option_field").html(_)):(jQuery("#field_enable_copy_values_option").prop("disabled",!0),jQuery("#field_copy_values_disabled").show()),ToggleCopyValuesOption(field.enableCopyValuesOption,!0),field.nextButton&&("image"==field.nextButton.type?jQuery("#next_button_image").prop("checked",!0):jQuery("#next_button_text").prop("checked",!0),jQuery("#next_button_text_input").val(field.nextButton.text),jQuery("#next_button_image_url").val(field.nextButton.imageUrl)),field.previousButton&&("image"==field.previousButton.type?jQuery("#previous_button_image").prop("checked",!0):jQuery("#previous_button_text").prop("checked",!0),jQuery("#previous_button_text_input").val(field.previousButton.text),jQuery("#previous_button_image_url").val(field.previousButton.imageUrl)),TogglePageButton("next",!0),TogglePageButton("previous",!0),jQuery(".gfield_category_checkbox").each(function(){if(field.choices)for(var e=0;e<field.choices.length;e++)if(this.value==field.choices[e].value)return void(this.checked=!0);this.checked=!1}),has_entry(field.id)?jQuery("#field_type, #field_multiple_files").prop("disabled",!0):jQuery("#field_type, #field_multiple_files").prop("disabled",!1),jQuery("#field_custom_field_name").val(field.postCustomFieldName),jQuery("#field_columns_enabled").prop("checked",Boolean(field.enableColumns)).prop("disabled",has_entry(field.id)),LoadFieldChoices(field),jQuery(".field_setting").hide();var p=fieldSettings[field.type];field.inputType&&"post_category"!=field.type&&(p+=","+fieldSettings[field.inputType]),jQuery(p).show();for(var y=0;y<form.fields.length;y++)if("post_category"==form.fields[y].type){jQuery(".post_category_setting").hide();break}"post_category"==field.type&&"select"!=e&&(jQuery(".post_category_initial_item_setting").hide(),jQuery("#gfield_post_category_initial_item_enabled").prop("checked",!1),SetCategoryInitialItem()),"quantity"==field.type&&jQuery(".calculation_setting").hide(),jQuery("#post_category_field_type").val(field.inputType);var g=null==field.simpleCaptchaFontColor?"":field.simpleCaptchaFontColor;jQuery("#field_captcha_fg").val(g),SetColorPickerColor("field_captcha_fg",g);var h=null==field.simpleCaptchaBackgroundColor?"":field.simpleCaptchaBackgroundColor;if(jQuery("#field_captcha_bg").val(h),SetColorPickerColor("field_captcha_bg",h),jQuery("#field_captcha_type").val(null==field.captchaType?"captcha":field.captchaType),jQuery("#field_captcha_badge").val(null==field.captchaBadge?"bottomright":field.captchaBadge),jQuery("#field_captcha_size").val(null==field.simpleCaptchaSize?"medium":field.simpleCaptchaSize),"captcha"==field.type){var m=".captcha_language_setting, .captcha_theme_setting",j=".captcha_size_setting, .captcha_fg_setting, .captcha_bg_setting";"simple_captcha"==field.captchaType||"math"==field.captchaType?(jQuery(j).show(),jQuery(m).hide()):(jQuery(j).hide(),jQuery(m).show());var v=null==field.captchaTheme||["blackglass","dark"].indexOf(field.captchaTheme)<0?"light":"dark";jQuery("#field_captcha_theme").val(v).show();var Q=null==field.captchaLanguage?"en":field.captchaLanguage;jQuery("#field_captcha_language").val(Q).show(),jQuery('#field_captcha_type option[value="captcha"]').length<1&&jQuery("#field_captcha_type").prepend('<option value="captcha">reCAPTCHA</option>')}if("post_custom_field"!=field.type||"textarea"!=field.inputType&&"text"!=field.inputType||jQuery(".customfield_content_template_setting").show(),"name"==field.type&&(void 0===field.nameFormat||"advanced"!=field.nameFormat?field=MaybeUpgradeNameField(field):SetUpAdvancedNameField(),"simple"==field.nameFormat?(jQuery(".default_value_setting").show(),jQuery(".size_setting").show(),jQuery("#field_name_fields_container").html("").hide(),jQuery(".sub_label_placement_setting").hide(),jQuery(".name_prefix_choices_setting").hide(),jQuery(".name_format_setting").hide(),jQuery(".name_setting").hide(),jQuery(".default_input_values_setting").hide(),jQuery(".default_value_setting").show()):"extended"==field.nameFormat&&(jQuery(".name_format_setting").show(),jQuery(".name_prefix_choices_setting").hide(),jQuery(".name_setting").hide(),jQuery(".default_input_values_setting").hide(),jQuery(".input_placeholders_setting").hide())),-1!=jQuery.inArray(field.type,["product","option","shipping"])&&jQuery(".other_choice_setting").hide(),field.enableCalculation&&jQuery("li.range_setting").hide(),"text"==field.type&&(field.inputMask?jQuery(".maxlen_setting").hide():jQuery(".maxlen_setting").show()),"date"==e&&ToggleDateSettings(field),"email"==e&&ToggleEmailSettings(field),"password"===field.type||"password"===field.inputType){field=UpgradePasswordField(field);var b=GetCustomizeInputsUI(field);jQuery("#field_password_fields_container").html(b),jQuery("#field_password_fields_container table tr:eq(1) td:eq(0) img").remove(),"undefined"!=field.inputs[1].isHidden&&field.inputs[1].isHidden||jQuery(".size_setting").hide(),jQuery(".password_setting .custom_inputs_setting ").on("click keypress",".input_active_icon",function(){var e=GetSelectedField(),t=!e.inputs[1].isHidden,i=jQuery('label[for="input_'+e.id+'"]');t?(i.show(),jQuery(".size_setting").hide()):(i.hide(),jQuery(".size_setting").show())})}jQuery(document).trigger("gform_load_field_settings",[field,form]),jQuery("#field_settings").appendTo(".field_selected"),jQuery("#field_settings").tabs("option","active",0),ShowSettings("field_settings"),gform.doAction("gform_post_load_field_settings",[field,form]),SetProductField(field);var k=[];0==jQuery("#gform_tab_3 li.field_setting").filter(function(){return jQuery(this).is(":hidden")&&"none"!=jQuery(this).css("display")}).length&&k.push(1),0==jQuery("#gform_tab_2 li.field_setting").filter(function(){return jQuery(this).is(":hidden")&&"none"!=jQuery(this).css("display")}).length&&k.push(2),0<k.length?jQuery("#field_settings").tabs({disabled:k}):jQuery("#field_settings").tabs({disabled:[]}),Placeholders.enable()}function ToggleDateSettings(e){var t="datefield"==e.dateType,i="datepicker"==e.dateType,l="datedropdown"==e.dateType;jQuery(".placeholder_setting").toggle(i),jQuery(".default_value_setting").toggle(i),jQuery(".sub_label_placement_setting").toggle(t),jQuery(".sub_labels_setting").toggle(t),jQuery(".default_input_values_setting").toggle(l||t),jQuery(".input_placeholders_setting").toggle(l||t)}function SetUpAdvancedNameField(){field=GetSelectedField(),jQuery(".name_format_setting").hide(),jQuery(".name_setting").show(),jQuery(".name_prefix_choices_setting").show();var e=GetCustomizeInputsUI(field);jQuery("#field_name_fields_container").html(e).show();var t=GetInput(field,field.id+".2"),i=GetInputChoices(t);jQuery("#field_prefix_choices").html(i),ToggleNamePrefixUI(!t.isHidden),jQuery(".name_setting .custom_inputs_setting").on("click",".input_active_icon",function(){0<=jQuery(this).data("input_id").toString().indexOf(".2")&&ToggleNamePrefixUI(0<=this.src.indexOf("active1.png"))}),jQuery(".default_value_setting").hide(),jQuery(".default_input_values_setting").show(),jQuery(".input_placeholders_setting").show(),CreateDefaultValuesUI(field),CreatePlaceholdersUI(field),CreateInputNames(field)}function GetCopyValuesFieldsOptions(e,t){for(var i,l,d,a,r=[],n=GetInputType(t),o=0;o<form.fields.length;o++)(l=form.fields[o]).id==t.id||GetInputType(l)!=n||l.enableCopyValuesOption||(i=GetLabel(l),a=e==l.id?'selected="selected"':"",d='<option value="'+l.id+'" '+a+">"+i+"</option>",r.push(d));return r.join("")}function ToggleNamePrefixUI(e){jQuery(".name_prefix_choices_setting").toggle(e)}function TogglePageBreakSettings(){HasPageBreak()?(jQuery("#gform_last_page_settings").show(),jQuery("#gform_pagination").show()):(jQuery("#gform_last_page_settings").hide(),jQuery("#gform_pagination").hide())}function SetDisableQuantity(e){SetFieldProperty("disableQuantity",e),e?jQuery(".field_selected .ginput_quantity_label, .field_selected .ginput_quantity").hide():jQuery(".field_selected .ginput_quantity_label, .field_selected .ginput_quantity").show()}function SetBasePrice(e){e=e||0;var t=GetCurrentCurrency().toMoney(e);0==t&&(t=0),jQuery("#field_base_price").val(t),SetFieldProperty("basePrice",t),jQuery(".field_selected .ginput_product_price, .field_selected .ginput_shipping_price").html(t),jQuery(".field_selected .ginput_amount").val(t)}function ChangeAddressType(){if(field=GetSelectedField(),"address"==field.type){var e=jQuery("#field_address_type").val(),t=GetInput(field,field.id+".6"),i=jQuery("#field_address_country_"+e).val();t.isHidden=""!=i,SetAddressType(!1)}}function SetAddressType(e){if(field=GetSelectedField(),"address"==field.type){SetAddressProperties(),jQuery(".gfield_address_type_container").hide();var t=e?"":"slow";jQuery("#address_type_container_"+jQuery("#field_address_type").val()).show(t),CreatePlaceholdersUI(field)}}function UpdateAddressFields(){var e=jQuery("#field_address_type").val();field=GetSelectedField();var t=GetCustomizeInputsUI(field);jQuery("#field_address_fields_container").html(t);var i=GetInput(field,field.id+".5"),l=jQuery("#field_address_zip_label_"+e).val();jQuery("#field_custom_input_default_label_"+field.id+"_5").text(l),jQuery("#field_custom_input_label_"+field.id+"\\.5").attr("placeholder",l),i.customLabel||jQuery(".field_selected #input_"+field.id+"_5_label").html(l);var d=GetInput(field,field.id+".4"),a=jQuery("#field_address_state_label_"+e).val();if(jQuery("#field_custom_input_default_label_"+field.id+"_4").text(a),jQuery("#field_custom_input_label_"+field.id+"\\.4").attr("placeholder",a),d.customLabel||jQuery(".field_selected #input_"+field.id+"_4_label").html(a),""!=jQuery("#field_address_country_"+e).val()?(jQuery(".field_selected #input_"+field.id+"_6_container").hide(),jQuery(".field_custom_input_row_input_"+field.id+"_6").hide()):(jQuery(".field_selected #input_"+field.id+"_6").val(jQuery("#field_address_default_country_"+e).val()),jQuery(".field_selected #input_"+field.id+"_6_container").show(),jQuery(".field_selected .field_custom_input_row_input_"+field.id+"_6").show()),""!=jQuery("#field_address_has_states_"+e).val()){jQuery(".field_selected .state_text").hide();var r=jQuery("#field_address_default_state_"+e).val(),n=jQuery(".field_selected .state_dropdown");n.append(jQuery("<option></option>").val(r).html(r)),n.val(r).show()}else jQuery(".field_selected .state_dropdown").hide(),jQuery(".field_selected .state_text").show()}function SetAddressProperties(){field=GetSelectedField();var e=jQuery("#field_address_type").val();SetFieldProperty("addressType",e),SetFieldProperty("defaultState",jQuery("#field_address_default_state_"+e).val()),SetFieldProperty("defaultProvince","");var t=jQuery("#field_address_country_"+e).val();""==t&&(t=jQuery("#field_address_default_country_"+e).val()),SetFieldProperty("defaultCountry",t),UpdateAddressFields()}function MaybeUpgradeNameField(e){return void 0!==e.nameFormat&&""!=e.nameFormat&&"normal"!=e.nameFormat&&("simple"!=e.nameFormat||has_entry(e.id))||(e=UpgradeNameField(e,!0,!0,!0)),e}function UpgradeNameField(e,t,i,l){return e.nameFormat="advanced",e.inputs=MergeInputArrays(GetAdvancedNameFieldInputs(e,t,i,l),e.inputs),RefreshSelectedFieldPreview(function(){SetUpAdvancedNameField()}),e}function UpgradeDateField(e){return"date"!=e.type&&"date"!=e.inputType||void 0===e.dateType||"datepicker"==e.dateType||e.inputs||(e.inputs=GetDateFieldInputs(e)),e}function UpgradeTimeField(e){return"time"!=e.type&&"time"!=e.inputType||e.inputs||(e.inputs=GetTimeFieldInputs(e)),e}function UpgradeEmailField(e){return"email"!=e.type&&"email"!=e.inputType||e.emailConfirmEnabled&&!e.inputs&&(e.inputs=GetEmailFieldInputs(e),e.inputs[0].placeholder=e.placeholder),e}function UpgradePasswordField(e){return"password"!=e.type&&"password"!=e.inputType||e.inputs||(e.inputs=GetPasswordFieldInputs(e),e.inputs[0].placeholder=e.placeholder),e}function UpgradeAddressField(e){e.hideCountry&&(GetInput(e,e.id+".6").isHidden=!0);delete e.hideCountry,e.hideAddress2&&(GetInput(e,e.id+".2").isHidden=!0);delete e.hideAddress2,e.hideState&&(GetInput(e,e.id+".4").isHidden=!0);return delete e.hideState,e}function UpgradeConsentField(e){return"consent"!==e.type||e.choices[1]&&"0"===e.choices[1].value&&e.choices.pop(),e}function TogglePasswordVisibility(e){jQuery("#gfield_password_visibility_enabled").is(":checked")?jQuery(".gfield.field_selected .ginput_container_password span button").show():jQuery(".gfield.field_selected .ginput_container_password span button").hide()}function TogglePasswordStrength(e){var t=e?"":"slow";jQuery("#gfield_password_strength_enabled").is(":checked")?jQuery("#gfield_min_strength_container").show(t):jQuery("#gfield_min_strength_container").hide(t)}function 